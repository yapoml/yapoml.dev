
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yapoml - Framework</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    
    
    <link rel="stylesheet" href="css/prism.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css">
    <link rel="stylesheet" href="site.css" />

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3DWDWDXYGT"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-3DWDWDXYGT');
    </script>

</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container">
                <a class="navbar-brand" href="/">
                    <img src="/logo.png" alt="" width="30" height="24" class="d-inline-block align-text-top">
                    Yapoml
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/framework">Framework</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/selenium">Selenium</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/playwright">Playwright</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav flex-row">
                        <li class="nav-item">
                            <a class="nav-link p-2" target="_blank" href="https://github.com/yapoml/yapoml">
                                <img class="opacity-75" src="img/github.svg" width="20" height="20" />
                                <small class="d-md-none ms-2">GitHub</small>
                            </a>
                        </li>
                        <!--
                        <li class="nav-item">
                            <a class="nav-link p-2" href="https://invite-link-to-slack">
                                <img class="opacity-75" src="img/slack.svg" width="20" height="20" />
                                <small class="d-md-none ms-2">Slack</small>
                            </a>
                        </li>
                        -->
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <main role="main" class="row">
                    <div class="col-xs-6 col-md-3 order-md-2 py-1" >
                    <button style="width:100%" class="btn btn-light btn-sm btn-block d-md-none mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#toc" aria-expanded="false" aria-controls="toc">
                        On this page
                    </button>

                    <nav id="toc" class="toc sticky-md-top text-muted collapse d-md-block pt-md-2"></nav>
            </div>
            
            <div class="col-xs-12 col-md-9 py-1 content"><h1 id="introduction">Introduction</h1>
<p>Main goal of yapoml framework is to provide ability to generate page object models for most popular testing tools. The idea to accomplish that is specifing friendly language to describe elements on the page and all necessary classes are auto-generated and are ready for usage.</p>
<h2 id="problem">Problem</h2>
<p>Typical page object class for Selenium WebDriver is</p>
<pre><code class="language-csharp">class LoginPage
{
    IWebDriver _driver;

    public MyPage(IWebDriver driver)
    {
        _driver = driver;
    }

    public IWebElement UsernameInput =&gt; return _driver.FindElement(By.Id(&quot;some_id&quot;));
}
</code></pre>
<p>As we see we write a lot of code to define that <code>LoginPage</code> has <code>UsernameInput</code> which can be found by <code>some_id</code> id.</p>
<h2 id="solution">Solution</h2>
<p>This problem is resolved by yapoml. Instead of creation your class just add <code>LoginPage.po.yaml</code> file:</p>
<pre><code class="language-yaml">UsernameInput: id some_id
</code></pre>
<p>And <code>yapoml</code> does the rest. Now you can access to web elements</p>
<pre><code class="language-csharp">driver.Ya().LoginPage.UsernameInput.SendKeys(&quot;user01&quot;);
</code></pre>
<p>Or even define more complex relative elements</p>
<pre><code class="language-yaml">LoginForm:
  by: id login

  UsernameInput: id some_id
</code></pre>
<pre><code class="language-csharp">driver.Ya().LoginPage.LoginForm.UsernameInput.SendKeys(&quot;user01&quot;);
</code></pre>
<h1 id="syntax">Syntax</h1>
<p>Yapoml supports yaml format to define your pages and components (TBD).</p>
<h2 id="page">Page</h2>
<p>Page objects are defined in <code>*.po.yaml</code> files.</p>
<pre><code class="language-treeview">Project/
|-- Pages/
|   `-- Administration/
|       |-- UsersPage.po.yaml
|       `-- RolesPage.po.yaml
|-- AnyRootPage.po.yaml
`-- Project.csproj
</code></pre>
<pre><code class="language-csharp">var usersPage = driver.Ya().Pages.Administration.UsersPage;
var rootPage =  driver.Ya().AnyRootPage;
</code></pre>
<p>Page object consists of components:</p>
<pre><code class="language-yaml">MyComponent: xpath .//div
</code></pre>
<h2 id="component">Component</h2>
<p>Component is identified by search method (following are different representation of the same component)</p>
<pre><code class="language-yaml">MyComponent:
  by:
    xpath: .//div

# or shorter
MyComponent:
  by: xpath .//div

# or shorter
MyComponent: xpath .//div
</code></pre>
<p>Component may have nested components</p>
<pre><code class="language-yaml">MyComponent:
  by: xpath .//div

  MyOtherComponent: xpath .//button
</code></pre>
<h3 id="parametrized-components">Parametrized components</h3>
<p>Locator may have parameters.</p>
<pre><code class="language-yaml">MyButton: ./button[text()='{text}']
</code></pre>
<p><code>{text}</code> is treated as a parameter, and then you use it</p>
<pre><code class="language-csharp">myPage.MyButton(text: &quot;Sign in&quot;) // finds ./button[text()='Sign in']
</code></pre>
<p>Or even find multiple components</p>
<pre><code class="language-yaml">GetMyButtons: ./button[text()='{text}']
</code></pre>
<pre><code class="language-csharp">myPage.GetMyButtons(text: &quot;Sign in&quot;) // finds many ./button[text()='Sign in']
</code></pre>
<h2 id="navigation">Navigation</h2>
<p>If a page has definited <code>url</code> property then this page has generated <code>Open()</code> method.</p>
<pre><code class="language-yaml"># HomePage.po.yaml

url: some/relative/path
</code></pre>
<pre><code class="language-csharp">driver.Ya().HomePage.Open();
</code></pre>
<p><code>url</code> might have segments and query parameters</p>
<pre><code class="language-yaml">url:
  path: /users/{userId}
  query:  # or params
    - p1
    - p2
</code></pre>
<pre><code class="language-csharp">driver.Ya().HomePage.Open(&quot;123&quot;, p2: &quot;any value&quot;) // navigates to /users/123?p2=any%20value
</code></pre>
<p>Segments are required. If you need skip some particular segment from the url path, you can put <code>null</code>. Query parameters are always optional.</p>
<h1 id="extensions">Extensions</h1>
<h2 id="logging">Logging</h2>
<h3 id="serilog">Serilog</h3>
<p>Install <a href="https://www.nuget.org/packages/Yapoml.Extensions.Logging.Playwright">Yapoml.Extensions.Logging.Serilog</a> to transfer all log messages produced by Yapoml to serilog logger.</p>
<pre><code class="language-csharp">driver.Ya(opts =&gt; opts.UseSerilog());
</code></pre>
<h3 id="etc">etc</h3>
<p>Any log framework can be easily implemented, just ask.</p>
</div>
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2022 - Yapoml
        </div>
    </footer>

    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/prism.js"></script>
    <script src="js/site.js"></script>


    

    <script type="text/javascript">
        tocbot.init({
        // Where to render the table of contents.
        tocSelector: '#toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.content',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3',
        // For headings inside relative or absolute positioned containers within content.
        hasInnerContainers: false,
        collapseDepth: 3,
        extraLinkClasses: 'text-decoration-none'
        });
    </script>
</body>
</html>